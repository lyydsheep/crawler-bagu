{
  "success": true,
  "data": {
    "id": 206215,
    "name": "<p>请写出每个时间下LSTM神经元状态的公式</p>",
    "options": null,
    "answer": "<p>长短期记忆网络（LSTM）是一种特殊的循环神经网络（RNN），能够解决传统RNN在处理长序列时的梯度消失或梯度爆炸问题。LSTM通过引入门控机制来控制信息的流动，主要包含输入门、遗忘门、输出门和细胞状态。以下是每个时间步下LSTM神经元状态的公式：</p>\n<h3>1. 遗忘门（Forget Gate）</h3>\n<p>遗忘门决定了上一时刻的细胞状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_{t - 1}</annotation>\n      </semantics>\n    </math></span> 中有多少信息需要被遗忘。它通过一个Sigmoid函数将输入 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>x</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">x_t</annotation>\n      </semantics>\n    </math></span> 和上一时刻的隐藏状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>h</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">h_{t - 1}</annotation>\n      </semantics>\n    </math></span> 进行线性变换，输出一个介于0到1之间的值，0表示完全遗忘，1表示完全保留。</p><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\">\n    <semantics>\n      <mrow>\n        <msub>\n          <mi>f</mi>\n          <mi>t</mi>\n        </msub>\n        <mo>=</mo>\n        <mi>σ</mi>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>W</mi>\n          <mi>f</mi>\n        </msub>\n        <mo stretchy=\"false\">[</mo>\n        <msub>\n          <mi>h</mi>\n          <mrow>\n            <mi>t</mi>\n            <mo>−</mo>\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo separator=\"true\">,</mo>\n        <msub>\n          <mi>x</mi>\n          <mi>t</mi>\n        </msub>\n        <mo stretchy=\"false\">]</mo>\n        <mo>+</mo>\n        <msub>\n          <mi>b</mi>\n          <mi>f</mi>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n      </mrow>\n      <annotation encoding=\"application/x-tex\">f_t = \\sigma(W_f[h_{t - 1}, x_t] + b_f)</annotation>\n    </semantics>\n  </math></span>\n<p>其中：</p>\n<ul>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>f</mi>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">f_t</annotation>\n        </semantics>\n      </math></span> 是时间步 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>t</mi>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">t</annotation>\n        </semantics>\n      </math></span> 的遗忘门输出；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>σ</mi>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\sigma</annotation>\n        </semantics>\n      </math></span> 是Sigmoid激活函数，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>σ</mi>\n            <mo stretchy=\"false\">(</mo>\n            <mi>z</mi>\n            <mo stretchy=\"false\">)</mo>\n            <mo>=</mo>\n            <mfrac>\n              <mn>1</mn>\n              <mrow>\n                <mn>1</mn>\n                <mo>+</mo>\n                <msup>\n                  <mi>e</mi>\n                  <mrow>\n                    <mo>−</mo>\n                    <mi>z</mi>\n                  </mrow>\n                </msup>\n              </mrow>\n            </mfrac>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\sigma(z)=\\frac{1}{1 + e^{-z}}</annotation>\n        </semantics>\n      </math></span>；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>W</mi>\n              <mi>f</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">W_f</annotation>\n        </semantics>\n      </math></span> 是遗忘门的权重矩阵；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mo stretchy=\"false\">[</mo>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo separator=\"true\">,</mo>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">]</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">[h_{t - 1}, x_t]</annotation>\n        </semantics>\n      </math></span> 表示将上一时刻的隐藏状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">h_{t - 1}</annotation>\n        </semantics>\n      </math></span> 和当前输入 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">x_t</annotation>\n        </semantics>\n      </math></span> 拼接在一起；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>b</mi>\n              <mi>f</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">b_f</annotation>\n        </semantics>\n      </math></span> 是遗忘门的偏置向量。</li>\n</ul>\n<h3>2. 输入门（Input Gate）</h3>\n<p>输入门决定了当前输入 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>x</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">x_t</annotation>\n      </semantics>\n    </math></span> 中有多少信息需要被加入到细胞状态中。它由两部分组成：</p>\n<ul>\n  <li>输入门的Sigmoid输出 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>i</mi>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">i_t</annotation>\n        </semantics>\n      </math></span>，用于决定哪些值需要更新；</li>\n  <li>候选细胞状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mover accent=\"true\">\n                <mi>C</mi>\n                <mo>~</mo>\n              </mover>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\tilde{C}_t</annotation>\n        </semantics>\n      </math></span>，通过tanh函数生成。</li>\n</ul>\n<h4>输入门的Sigmoid输出</h4><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\">\n    <semantics>\n      <mrow>\n        <msub>\n          <mi>i</mi>\n          <mi>t</mi>\n        </msub>\n        <mo>=</mo>\n        <mi>σ</mi>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>W</mi>\n          <mi>i</mi>\n        </msub>\n        <mo stretchy=\"false\">[</mo>\n        <msub>\n          <mi>h</mi>\n          <mrow>\n            <mi>t</mi>\n            <mo>−</mo>\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo separator=\"true\">,</mo>\n        <msub>\n          <mi>x</mi>\n          <mi>t</mi>\n        </msub>\n        <mo stretchy=\"false\">]</mo>\n        <mo>+</mo>\n        <msub>\n          <mi>b</mi>\n          <mi>i</mi>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n      </mrow>\n      <annotation encoding=\"application/x-tex\">i_t = \\sigma(W_i[h_{t - 1}, x_t] + b_i)</annotation>\n    </semantics>\n  </math></span>\n<p>其中：</p>\n<ul>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>i</mi>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">i_t</annotation>\n        </semantics>\n      </math></span> 是时间步 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>t</mi>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">t</annotation>\n        </semantics>\n      </math></span> 的输入门输出；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>W</mi>\n              <mi>i</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">W_i</annotation>\n        </semantics>\n      </math></span> 是输入门的权重矩阵；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>b</mi>\n              <mi>i</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">b_i</annotation>\n        </semantics>\n      </math></span> 是输入门的偏置向量。</li>\n</ul>\n<h4>候选细胞状态</h4><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\">\n    <semantics>\n      <mrow>\n        <msub>\n          <mover accent=\"true\">\n            <mi>C</mi>\n            <mo>~</mo>\n          </mover>\n          <mi>t</mi>\n        </msub>\n        <mo>=</mo>\n        <mi>tanh</mi>\n        <mo>⁡</mo>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>W</mi>\n          <mi>C</mi>\n        </msub>\n        <mo stretchy=\"false\">[</mo>\n        <msub>\n          <mi>h</mi>\n          <mrow>\n            <mi>t</mi>\n            <mo>−</mo>\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo separator=\"true\">,</mo>\n        <msub>\n          <mi>x</mi>\n          <mi>t</mi>\n        </msub>\n        <mo stretchy=\"false\">]</mo>\n        <mo>+</mo>\n        <msub>\n          <mi>b</mi>\n          <mi>C</mi>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n      </mrow>\n      <annotation encoding=\"application/x-tex\">\\tilde{C}_t = \\tanh(W_C[h_{t - 1}, x_t] + b_C)</annotation>\n    </semantics>\n  </math></span>\n<p>其中：</p>\n<ul>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mover accent=\"true\">\n                <mi>C</mi>\n                <mo>~</mo>\n              </mover>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\tilde{C}_t</annotation>\n        </semantics>\n      </math></span> 是时间步 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>t</mi>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">t</annotation>\n        </semantics>\n      </math></span> 的候选细胞状态；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>tanh</mi>\n            <mo>⁡</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\tanh</annotation>\n        </semantics>\n      </math></span> 是双曲正切激活函数，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>tanh</mi>\n            <mo>⁡</mo>\n            <mo stretchy=\"false\">(</mo>\n            <mi>z</mi>\n            <mo stretchy=\"false\">)</mo>\n            <mo>=</mo>\n            <mfrac>\n              <mrow>\n                <msup>\n                  <mi>e</mi>\n                  <mi>z</mi>\n                </msup>\n                <mo>−</mo>\n                <msup>\n                  <mi>e</mi>\n                  <mrow>\n                    <mo>−</mo>\n                    <mi>z</mi>\n                  </mrow>\n                </msup>\n              </mrow>\n              <mrow>\n                <msup>\n                  <mi>e</mi>\n                  <mi>z</mi>\n                </msup>\n                <mo>+</mo>\n                <msup>\n                  <mi>e</mi>\n                  <mrow>\n                    <mo>−</mo>\n                    <mi>z</mi>\n                  </mrow>\n                </msup>\n              </mrow>\n            </mfrac>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\tanh(z)=\\frac{e^z - e^{-z}}{e^z + e^{-z}}</annotation>\n        </semantics>\n      </math></span>；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>W</mi>\n              <mi>C</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">W_C</annotation>\n        </semantics>\n      </math></span> 是候选细胞状态的权重矩阵；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>b</mi>\n              <mi>C</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">b_C</annotation>\n        </semantics>\n      </math></span> 是候选细胞状态的偏置向量。</li>\n</ul>\n<h3>3. 更新细胞状态（Cell State）</h3>\n<p>根据遗忘门和输入门的输出，更新当前时刻的细胞状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_t</annotation>\n      </semantics>\n    </math></span>。具体来说，先将上一时刻的细胞状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_{t - 1}</annotation>\n      </semantics>\n    </math></span> 乘以遗忘门的输出 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>f</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">f_t</annotation>\n      </semantics>\n    </math></span>，以遗忘部分信息，然后将候选细胞状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mover accent=\"true\">\n              <mi>C</mi>\n              <mo>~</mo>\n            </mover>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">\\tilde{C}_t</annotation>\n      </semantics>\n    </math></span> 乘以输入门的输出 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>i</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">i_t</annotation>\n      </semantics>\n    </math></span>，并将结果加到 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_{t - 1}</annotation>\n      </semantics>\n    </math></span> 上。</p><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\">\n    <semantics>\n      <mrow>\n        <msub>\n          <mi>C</mi>\n          <mi>t</mi>\n        </msub>\n        <mo>=</mo>\n        <msub>\n          <mi>f</mi>\n          <mi>t</mi>\n        </msub>\n        <mo>⊙</mo>\n        <msub>\n          <mi>C</mi>\n          <mrow>\n            <mi>t</mi>\n            <mo>−</mo>\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <msub>\n          <mi>i</mi>\n          <mi>t</mi>\n        </msub>\n        <mo>⊙</mo>\n        <msub>\n          <mover accent=\"true\">\n            <mi>C</mi>\n            <mo>~</mo>\n          </mover>\n          <mi>t</mi>\n        </msub>\n      </mrow>\n      <annotation encoding=\"application/x-tex\">C_t = f_t \\odot C_{t - 1} + i_t \\odot \\tilde{C}_t</annotation>\n    </semantics>\n  </math></span>\n<p>其中：</p>\n<ul>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>C</mi>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">C_t</annotation>\n        </semantics>\n      </math></span> 是时间步 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>t</mi>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">t</annotation>\n        </semantics>\n      </math></span> 的细胞状态；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mo>⊙</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\odot</annotation>\n        </semantics>\n      </math></span> 表示逐元素相乘。</li>\n</ul>\n<h3>4. 输出门（Output Gate）</h3>\n<p>输出门决定了当前时刻的细胞状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_t</annotation>\n      </semantics>\n    </math></span> 中有多少信息需要被输出到隐藏状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>h</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">h_t</annotation>\n      </semantics>\n    </math></span>。它通过一个Sigmoid函数将输入 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>x</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">x_t</annotation>\n      </semantics>\n    </math></span> 和上一时刻的隐藏状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>h</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">h_{t - 1}</annotation>\n      </semantics>\n    </math></span> 进行线性变换，输出一个介于0到1之间的值，然后将细胞状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_t</annotation>\n      </semantics>\n    </math></span> 通过tanh函数进行变换，并与输出门的输出逐元素相乘，得到当前时刻的隐藏状态 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>h</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">h_t</annotation>\n      </semantics>\n    </math></span>。</p>\n<h4>输出门的Sigmoid输出</h4><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\">\n    <semantics>\n      <mrow>\n        <msub>\n          <mi>o</mi>\n          <mi>t</mi>\n        </msub>\n        <mo>=</mo>\n        <mi>σ</mi>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>W</mi>\n          <mi>o</mi>\n        </msub>\n        <mo stretchy=\"false\">[</mo>\n        <msub>\n          <mi>h</mi>\n          <mrow>\n            <mi>t</mi>\n            <mo>−</mo>\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo separator=\"true\">,</mo>\n        <msub>\n          <mi>x</mi>\n          <mi>t</mi>\n        </msub>\n        <mo stretchy=\"false\">]</mo>\n        <mo>+</mo>\n        <msub>\n          <mi>b</mi>\n          <mi>o</mi>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n      </mrow>\n      <annotation encoding=\"application/x-tex\">o_t = \\sigma(W_o[h_{t - 1}, x_t] + b_o)</annotation>\n    </semantics>\n  </math></span>\n<p>其中：</p>\n<ul>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>o</mi>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">o_t</annotation>\n        </semantics>\n      </math></span> 是时间步 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>t</mi>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">t</annotation>\n        </semantics>\n      </math></span> 的输出门输出；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>W</mi>\n              <mi>o</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">W_o</annotation>\n        </semantics>\n      </math></span> 是输出门的权重矩阵；</li>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>b</mi>\n              <mi>o</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">b_o</annotation>\n        </semantics>\n      </math></span> 是输出门的偏置向量。</li>\n</ul>\n<h4>当前时刻的隐藏状态</h4><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\">\n    <semantics>\n      <mrow>\n        <msub>\n          <mi>h</mi>\n          <mi>t</mi>\n        </msub>\n        <mo>=</mo>\n        <msub>\n          <mi>o</mi>\n          <mi>t</mi>\n        </msub>\n        <mo>⊙</mo>\n        <mi>tanh</mi>\n        <mo>⁡</mo>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>C</mi>\n          <mi>t</mi>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n      </mrow>\n      <annotation encoding=\"application/x-tex\">h_t = o_t \\odot \\tanh(C_t)</annotation>\n    </semantics>\n  </math></span>\n<p>其中：</p>\n<ul>\n  <li><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>h</mi>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">h_t</annotation>\n        </semantics>\n      </math></span> 是时间步 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>t</mi>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">t</annotation>\n        </semantics>\n      </math></span> 的隐藏状态。</li>\n</ul>\n<p>综上所述，LSTM在每个时间步 <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mi>t</mi>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">t</annotation>\n      </semantics>\n    </math></span> 的神经元状态更新公式为：</p>\n<ol>\n  <li>遗忘门：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>f</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <mi>σ</mi>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>W</mi>\n              <mi>f</mi>\n            </msub>\n            <mo stretchy=\"false\">[</mo>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo separator=\"true\">,</mo>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">]</mo>\n            <mo>+</mo>\n            <msub>\n              <mi>b</mi>\n              <mi>f</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">f_t = \\sigma(W_f[h_{t - 1}, x_t] + b_f)</annotation>\n        </semantics>\n      </math></span></li>\n  <li>输入门：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>i</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <mi>σ</mi>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>W</mi>\n              <mi>i</mi>\n            </msub>\n            <mo stretchy=\"false\">[</mo>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo separator=\"true\">,</mo>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">]</mo>\n            <mo>+</mo>\n            <msub>\n              <mi>b</mi>\n              <mi>i</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">i_t = \\sigma(W_i[h_{t - 1}, x_t] + b_i)</annotation>\n        </semantics>\n      </math></span></li>\n  <li>候选细胞状态：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mover accent=\"true\">\n                <mi>C</mi>\n                <mo>~</mo>\n              </mover>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <mi>tanh</mi>\n            <mo>⁡</mo>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>W</mi>\n              <mi>C</mi>\n            </msub>\n            <mo stretchy=\"false\">[</mo>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo separator=\"true\">,</mo>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">]</mo>\n            <mo>+</mo>\n            <msub>\n              <mi>b</mi>\n              <mi>C</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\tilde{C}_t = \\tanh(W_C[h_{t - 1}, x_t] + b_C)</annotation>\n        </semantics>\n      </math></span></li>\n  <li>细胞状态更新：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>C</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <msub>\n              <mi>f</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>⊙</mo>\n            <msub>\n              <mi>C</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo>+</mo>\n            <msub>\n              <mi>i</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>⊙</mo>\n            <msub>\n              <mover accent=\"true\">\n                <mi>C</mi>\n                <mo>~</mo>\n              </mover>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">C_t = f_t \\odot C_{t - 1} + i_t \\odot \\tilde{C}_t</annotation>\n        </semantics>\n      </math></span></li>\n  <li>输出门：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>o</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <mi>σ</mi>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>W</mi>\n              <mi>o</mi>\n            </msub>\n            <mo stretchy=\"false\">[</mo>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo separator=\"true\">,</mo>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">]</mo>\n            <mo>+</mo>\n            <msub>\n              <mi>b</mi>\n              <mi>o</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">o_t = \\sigma(W_o[h_{t - 1}, x_t] + b_o)</annotation>\n        </semantics>\n      </math></span></li>\n  <li>隐藏状态更新：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>h</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <msub>\n              <mi>o</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>⊙</mo>\n            <mi>tanh</mi>\n            <mo>⁡</mo>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>C</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">h_t = o_t \\odot \\tanh(C_t)</annotation>\n        </semantics>\n      </math></span></li>\n</ol>",
    "type": 6,
    "level": 2,
    "freq": 0.002908184,
    "analysis": "<h3>1. 题目核心</h3>\n<ul>\n  <li><strong>问题</strong>：写出每个时间下LSTM（长短期记忆网络）神经元状态的公式。</li>\n  <li><strong>考察点</strong>：对LSTM结构和原理的理解，包括遗忘门、输入门、细胞状态更新和输出门的计算公式。</li>\n</ul>\n<h3>2. 背景知识</h3>\n<p>LSTM是一种特殊的循环神经网络（RNN），旨在解决传统RNN的梯度消失问题，能够更好地处理序列数据中的长期依赖关系。LSTM通过引入门控机制来控制信息的流动，主要包括遗忘门、输入门、细胞状态更新和输出门。</p>\n<h3>3. 解析</h3>\n<p>设<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mi>t</mi>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">t</annotation>\n      </semantics>\n    </math></span>为当前时间步，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>x</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">x_t</annotation>\n      </semantics>\n    </math></span>为当前时间步的输入，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>h</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">h_{t - 1}</annotation>\n      </semantics>\n    </math></span>为上一个时间步的隐藏状态，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_{t - 1}</annotation>\n      </semantics>\n    </math></span>为上一个时间步的细胞状态。</p>\n<h4>（1）遗忘门（Forget Gate）</h4>\n<p>\n  遗忘门决定了上一个时间步的细胞状态<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_{t - 1}</annotation>\n      </semantics>\n    </math></span>中有多少信息需要被遗忘。其计算公式为：\n  <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>f</mi>\n            <mi>t</mi>\n          </msub>\n          <mo>=</mo>\n          <mi>σ</mi>\n          <mo stretchy=\"false\">(</mo>\n          <msub>\n            <mi>W</mi>\n            <mi>f</mi>\n          </msub>\n          <mo>⋅</mo>\n          <mo stretchy=\"false\">[</mo>\n          <msub>\n            <mi>h</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n          <mo separator=\"true\">,</mo>\n          <msub>\n            <mi>x</mi>\n            <mi>t</mi>\n          </msub>\n          <mo stretchy=\"false\">]</mo>\n          <mo>+</mo>\n          <msub>\n            <mi>b</mi>\n            <mi>f</mi>\n          </msub>\n          <mo stretchy=\"false\">)</mo>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">f_t = \\sigma(W_f \\cdot [h_{t - 1}, x_t] + b_f)</annotation>\n      </semantics>\n    </math></span>\n  其中，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>W</mi>\n            <mi>f</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">W_f</annotation>\n      </semantics>\n    </math></span>是遗忘门的权重矩阵，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>b</mi>\n            <mi>f</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">b_f</annotation>\n      </semantics>\n    </math></span>是遗忘门的偏置向量，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mi>σ</mi>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">\\sigma</annotation>\n      </semantics>\n    </math></span>是Sigmoid激活函数，其作用是将输出值压缩到<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mo stretchy=\"false\">[</mo>\n          <mn>0</mn>\n          <mo separator=\"true\">,</mo>\n          <mn>1</mn>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">[0, 1]</annotation>\n      </semantics>\n    </math></span>区间，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mo stretchy=\"false\">[</mo>\n          <msub>\n            <mi>h</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n          <mo separator=\"true\">,</mo>\n          <msub>\n            <mi>x</mi>\n            <mi>t</mi>\n          </msub>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">[h_{t - 1}, x_t]</annotation>\n      </semantics>\n    </math></span>表示将<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>h</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">h_{t - 1}</annotation>\n      </semantics>\n    </math></span>和<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>x</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">x_t</annotation>\n      </semantics>\n    </math></span>在特征维度上进行拼接。\n</p>\n<h4>（2）输入门（Input Gate）</h4>\n<p>输入门决定了当前输入<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>x</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">x_t</annotation>\n      </semantics>\n    </math></span>中有多少信息需要被添加到细胞状态中。它由两部分组成：</p>\n<ul>\n  <li>\n    输入门的激活值：\n    <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>i</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <mi>σ</mi>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>W</mi>\n              <mi>i</mi>\n            </msub>\n            <mo>⋅</mo>\n            <mo stretchy=\"false\">[</mo>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo separator=\"true\">,</mo>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">]</mo>\n            <mo>+</mo>\n            <msub>\n              <mi>b</mi>\n              <mi>i</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">i_t = \\sigma(W_i \\cdot [h_{t - 1}, x_t] + b_i)</annotation>\n        </semantics>\n      </math></span>\n    其中，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>W</mi>\n              <mi>i</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">W_i</annotation>\n        </semantics>\n      </math></span>是输入门的权重矩阵，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>b</mi>\n              <mi>i</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">b_i</annotation>\n        </semantics>\n      </math></span>是输入门的偏置向量。\n  </li>\n  <li>\n    候选细胞状态：\n    <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mover accent=\"true\">\n                <mi>C</mi>\n                <mo>~</mo>\n              </mover>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <mi>tanh</mi>\n            <mo>⁡</mo>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>W</mi>\n              <mi>C</mi>\n            </msub>\n            <mo>⋅</mo>\n            <mo stretchy=\"false\">[</mo>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo separator=\"true\">,</mo>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">]</mo>\n            <mo>+</mo>\n            <msub>\n              <mi>b</mi>\n              <mi>C</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\tilde{C}_t = \\tanh(W_C \\cdot [h_{t - 1}, x_t] + b_C)</annotation>\n        </semantics>\n      </math></span>\n    其中，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>W</mi>\n              <mi>C</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">W_C</annotation>\n        </semantics>\n      </math></span>是候选细胞状态的权重矩阵，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>b</mi>\n              <mi>C</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">b_C</annotation>\n        </semantics>\n      </math></span>是候选细胞状态的偏置向量，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mi>tanh</mi>\n            <mo>⁡</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">\\tanh</annotation>\n        </semantics>\n      </math></span>是双曲正切激活函数，其作用是将输出值压缩到<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <mo stretchy=\"false\">[</mo>\n            <mo>−</mo>\n            <mn>1</mn>\n            <mo separator=\"true\">,</mo>\n            <mn>1</mn>\n            <mo stretchy=\"false\">]</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">[-1, 1]</annotation>\n        </semantics>\n      </math></span>区间。\n  </li>\n</ul>\n<h4>（3）细胞状态更新（Cell State Update）</h4>\n<p>\n  根据遗忘门和输入门的输出，更新当前时间步的细胞状态<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_t</annotation>\n      </semantics>\n    </math></span>：\n  <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mi>t</mi>\n          </msub>\n          <mo>=</mo>\n          <msub>\n            <mi>f</mi>\n            <mi>t</mi>\n          </msub>\n          <mo>⊙</mo>\n          <msub>\n            <mi>C</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n          <mo>+</mo>\n          <msub>\n            <mi>i</mi>\n            <mi>t</mi>\n          </msub>\n          <mo>⊙</mo>\n          <msub>\n            <mover accent=\"true\">\n              <mi>C</mi>\n              <mo>~</mo>\n            </mover>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_t = f_t \\odot C_{t - 1} + i_t \\odot \\tilde{C}_t</annotation>\n      </semantics>\n    </math></span>\n  其中，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mo>⊙</mo>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">\\odot</annotation>\n      </semantics>\n    </math></span>表示逐元素相乘。\n</p>\n<h4>（4）输出门（Output Gate）</h4>\n<p>输出门决定了当前细胞状态<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_t</annotation>\n      </semantics>\n    </math></span>中有多少信息需要被输出到当前时间步的隐藏状态<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>h</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">h_t</annotation>\n      </semantics>\n    </math></span>。其计算公式为：</p>\n<ul>\n  <li>\n    输出门的激活值：\n    <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>o</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <mi>σ</mi>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>W</mi>\n              <mi>o</mi>\n            </msub>\n            <mo>⋅</mo>\n            <mo stretchy=\"false\">[</mo>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo separator=\"true\">,</mo>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">]</mo>\n            <mo>+</mo>\n            <msub>\n              <mi>b</mi>\n              <mi>o</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">o_t = \\sigma(W_o \\cdot [h_{t - 1}, x_t] + b_o)</annotation>\n        </semantics>\n      </math></span>\n    其中，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>W</mi>\n              <mi>o</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">W_o</annotation>\n        </semantics>\n      </math></span>是输出门的权重矩阵，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>b</mi>\n              <mi>o</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">b_o</annotation>\n        </semantics>\n      </math></span>是输出门的偏置向量。\n  </li>\n  <li>\n    当前时间步的隐藏状态：\n    <span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>h</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <msub>\n              <mi>o</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>⊙</mo>\n            <mi>tanh</mi>\n            <mo>⁡</mo>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>C</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">h_t = o_t \\odot \\tanh(C_t)</annotation>\n        </semantics>\n      </math></span>\n  </li>\n</ul>\n<h3>4. 总结回答</h3>\n<p>LSTM神经元在每个时间步<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mi>t</mi>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">t</annotation>\n      </semantics>\n    </math></span>的状态更新公式如下：</p>\n<ol>\n  <li>遗忘门：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>f</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <mi>σ</mi>\n            <mo stretchy=\"false\">(</mo>\n            <msub>\n              <mi>W</mi>\n              <mi>f</mi>\n            </msub>\n            <mo>⋅</mo>\n            <mo stretchy=\"false\">[</mo>\n            <msub>\n              <mi>h</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo separator=\"true\">,</mo>\n            <msub>\n              <mi>x</mi>\n              <mi>t</mi>\n            </msub>\n            <mo stretchy=\"false\">]</mo>\n            <mo>+</mo>\n            <msub>\n              <mi>b</mi>\n              <mi>f</mi>\n            </msub>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">f_t = \\sigma(W_f \\cdot [h_{t - 1}, x_t] + b_f)</annotation>\n        </semantics>\n      </math></span></li>\n  <li>输入门：\n    <ul>\n      <li>输入门激活值：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n            <semantics>\n              <mrow>\n                <msub>\n                  <mi>i</mi>\n                  <mi>t</mi>\n                </msub>\n                <mo>=</mo>\n                <mi>σ</mi>\n                <mo stretchy=\"false\">(</mo>\n                <msub>\n                  <mi>W</mi>\n                  <mi>i</mi>\n                </msub>\n                <mo>⋅</mo>\n                <mo stretchy=\"false\">[</mo>\n                <msub>\n                  <mi>h</mi>\n                  <mrow>\n                    <mi>t</mi>\n                    <mo>−</mo>\n                    <mn>1</mn>\n                  </mrow>\n                </msub>\n                <mo separator=\"true\">,</mo>\n                <msub>\n                  <mi>x</mi>\n                  <mi>t</mi>\n                </msub>\n                <mo stretchy=\"false\">]</mo>\n                <mo>+</mo>\n                <msub>\n                  <mi>b</mi>\n                  <mi>i</mi>\n                </msub>\n                <mo stretchy=\"false\">)</mo>\n              </mrow>\n              <annotation encoding=\"application/x-tex\">i_t = \\sigma(W_i \\cdot [h_{t - 1}, x_t] + b_i)</annotation>\n            </semantics>\n          </math></span></li>\n      <li>候选细胞状态：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n            <semantics>\n              <mrow>\n                <msub>\n                  <mover accent=\"true\">\n                    <mi>C</mi>\n                    <mo>~</mo>\n                  </mover>\n                  <mi>t</mi>\n                </msub>\n                <mo>=</mo>\n                <mi>tanh</mi>\n                <mo>⁡</mo>\n                <mo stretchy=\"false\">(</mo>\n                <msub>\n                  <mi>W</mi>\n                  <mi>C</mi>\n                </msub>\n                <mo>⋅</mo>\n                <mo stretchy=\"false\">[</mo>\n                <msub>\n                  <mi>h</mi>\n                  <mrow>\n                    <mi>t</mi>\n                    <mo>−</mo>\n                    <mn>1</mn>\n                  </mrow>\n                </msub>\n                <mo separator=\"true\">,</mo>\n                <msub>\n                  <mi>x</mi>\n                  <mi>t</mi>\n                </msub>\n                <mo stretchy=\"false\">]</mo>\n                <mo>+</mo>\n                <msub>\n                  <mi>b</mi>\n                  <mi>C</mi>\n                </msub>\n                <mo stretchy=\"false\">)</mo>\n              </mrow>\n              <annotation encoding=\"application/x-tex\">\\tilde{C}_t = \\tanh(W_C \\cdot [h_{t - 1}, x_t] + b_C)</annotation>\n            </semantics>\n          </math></span></li>\n    </ul>\n  </li>\n  <li>细胞状态更新：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n        <semantics>\n          <mrow>\n            <msub>\n              <mi>C</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>=</mo>\n            <msub>\n              <mi>f</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>⊙</mo>\n            <msub>\n              <mi>C</mi>\n              <mrow>\n                <mi>t</mi>\n                <mo>−</mo>\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <mo>+</mo>\n            <msub>\n              <mi>i</mi>\n              <mi>t</mi>\n            </msub>\n            <mo>⊙</mo>\n            <msub>\n              <mover accent=\"true\">\n                <mi>C</mi>\n                <mo>~</mo>\n              </mover>\n              <mi>t</mi>\n            </msub>\n          </mrow>\n          <annotation encoding=\"application/x-tex\">C_t = f_t \\odot C_{t - 1} + i_t \\odot \\tilde{C}_t</annotation>\n        </semantics>\n      </math></span></li>\n  <li>输出门：\n    <ul>\n      <li>输出门激活值：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n            <semantics>\n              <mrow>\n                <msub>\n                  <mi>o</mi>\n                  <mi>t</mi>\n                </msub>\n                <mo>=</mo>\n                <mi>σ</mi>\n                <mo stretchy=\"false\">(</mo>\n                <msub>\n                  <mi>W</mi>\n                  <mi>o</mi>\n                </msub>\n                <mo>⋅</mo>\n                <mo stretchy=\"false\">[</mo>\n                <msub>\n                  <mi>h</mi>\n                  <mrow>\n                    <mi>t</mi>\n                    <mo>−</mo>\n                    <mn>1</mn>\n                  </mrow>\n                </msub>\n                <mo separator=\"true\">,</mo>\n                <msub>\n                  <mi>x</mi>\n                  <mi>t</mi>\n                </msub>\n                <mo stretchy=\"false\">]</mo>\n                <mo>+</mo>\n                <msub>\n                  <mi>b</mi>\n                  <mi>o</mi>\n                </msub>\n                <mo stretchy=\"false\">)</mo>\n              </mrow>\n              <annotation encoding=\"application/x-tex\">o_t = \\sigma(W_o \\cdot [h_{t - 1}, x_t] + b_o)</annotation>\n            </semantics>\n          </math></span></li>\n      <li>当前时间步隐藏状态：<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n            <semantics>\n              <mrow>\n                <msub>\n                  <mi>h</mi>\n                  <mi>t</mi>\n                </msub>\n                <mo>=</mo>\n                <msub>\n                  <mi>o</mi>\n                  <mi>t</mi>\n                </msub>\n                <mo>⊙</mo>\n                <mi>tanh</mi>\n                <mo>⁡</mo>\n                <mo stretchy=\"false\">(</mo>\n                <msub>\n                  <mi>C</mi>\n                  <mi>t</mi>\n                </msub>\n                <mo stretchy=\"false\">)</mo>\n              </mrow>\n              <annotation encoding=\"application/x-tex\">h_t = o_t \\odot \\tanh(C_t)</annotation>\n            </semantics>\n          </math></span></li>\n    </ul>\n  </li>\n</ol>\n<p>其中，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>x</mi>\n            <mi>t</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">x_t</annotation>\n      </semantics>\n    </math></span>是当前时间步的输入，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>h</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">h_{t - 1}</annotation>\n      </semantics>\n    </math></span>是上一个时间步的隐藏状态，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>C</mi>\n            <mrow>\n              <mi>t</mi>\n              <mo>−</mo>\n              <mn>1</mn>\n            </mrow>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">C_{t - 1}</annotation>\n      </semantics>\n    </math></span>是上一个时间步的细胞状态，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>W</mi>\n            <mi>f</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">W_f</annotation>\n      </semantics>\n    </math></span>、<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>W</mi>\n            <mi>i</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">W_i</annotation>\n      </semantics>\n    </math></span>、<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>W</mi>\n            <mi>C</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">W_C</annotation>\n      </semantics>\n    </math></span>、<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>W</mi>\n            <mi>o</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">W_o</annotation>\n      </semantics>\n    </math></span>分别是遗忘门、输入门、候选细胞状态和输出门的权重矩阵，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>b</mi>\n            <mi>f</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">b_f</annotation>\n      </semantics>\n    </math></span>、<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>b</mi>\n            <mi>i</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">b_i</annotation>\n      </semantics>\n    </math></span>、<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>b</mi>\n            <mi>C</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">b_C</annotation>\n      </semantics>\n    </math></span>、<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <msub>\n            <mi>b</mi>\n            <mi>o</mi>\n          </msub>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">b_o</annotation>\n      </semantics>\n    </math></span>分别是对应的偏置向量，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mi>σ</mi>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">\\sigma</annotation>\n      </semantics>\n    </math></span>是Sigmoid激活函数，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mi>tanh</mi>\n          <mo>⁡</mo>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">\\tanh</annotation>\n      </semantics>\n    </math></span>是双曲正切激活函数，<span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\">\n      <semantics>\n        <mrow>\n          <mo>⊙</mo>\n        </mrow>\n        <annotation encoding=\"application/x-tex\">\\odot</annotation>\n      </semantics>\n    </math></span>表示逐元素相乘。</p>",
    "more_ask": "<ol>\n  <li>\n    <p><strong>LSTM 公式推导</strong>：请详细推导 LSTM 中遗忘门、输入门、输出门以及细胞状态更新公式是如何从基本的神经网络原理得出的。</p>\n    <ul>\n      <li>提示：从神经网络的线性变换和激活函数的作用入手，结合 LSTM 要解决的长序列依赖问题思考。</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>LSTM 变体</strong>：GRU 作为 LSTM 的一种变体，它和 LSTM 在公式和功能上有哪些主要区别？</p>\n    <ul>\n      <li>提示：对比两者的门控结构和状态更新公式，考虑它们在处理序列数据时的特点。</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>梯度问题</strong>：LSTM 是如何解决传统 RNN 中的梯度消失和梯度爆炸问题的，结合公式说明。</p>\n    <ul>\n      <li>提示：分析 LSTM 中细胞状态的更新公式以及门控机制对梯度传播的影响。</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>参数数量</strong>：给定一个具体的 LSTM 网络结构（如输入维度、隐藏层维度），计算其需要学习的参数数量。</p>\n    <ul>\n      <li>提示：分别计算每个门和细胞状态更新中涉及的权重矩阵和偏置向量的参数数量，然后求和。</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>应用场景差异</strong>：在不同的序列数据处理场景（如语音识别、文本生成、时间序列预测）中，LSTM 公式中的参数设置可能会有哪些不同，为什么？</p>\n    <ul>\n      <li>提示：考虑不同场景下数据的特点，如数据的长度、周期性、噪声等对 LSTM 参数的影响。</li>\n    </ul>\n  </li>\n</ol>",
    "mindmap": "mindmap\n  root((长短期记忆网络（LSTM）))\n    简介\n      特殊的循环神经网络（RNN）\n      解决传统RNN梯度消失或爆炸问题\n      引入门控机制控制信息流动\n    门控机制\n      遗忘门\n        决定上一时刻细胞状态遗忘信息\n        公式：$f_t = \\sigma(W_f[h_{t - 1}, x_t] + b_f)$\n      输入门\n        决定当前输入加入细胞状态信息\n        输入门Sigmoid输出：$i_t = \\sigma(W_i[h_{t - 1}, x_t] + b_i)$\n        候选细胞状态：$\\tilde{C}_t = \\tanh(W_C[h_{t - 1}, x_t] + b_C)$\n      输出门\n        决定当前细胞状态输出到隐藏状态信息\n        输出门Sigmoid输出：$o_t = \\sigma(W_o[h_{t - 1}, x_t] + b_o)$\n        当前时刻隐藏状态：$h_t = o_t \\odot \\tanh(C_t)$\n    细胞状态更新\n      公式：$C_t = f_t \\odot C_{t - 1} + i_t \\odot \\tilde{C}_t$",
    "keynote": "LSTM是特殊RNN，解决梯度问题，引入门控机制\n遗忘门：决定 $C_{t - 1}$ 遗忘信息，$f_t = \\sigma(W_f[h_{t - 1}, x_t] + b_f)$\n输入门：决定 $x_t$ 加入 $C_t$ 信息，$i_t = \\sigma(W_i[h_{t - 1}, x_t] + b_i)$，$\\tilde{C}_t = \\tanh(W_C[h_{t - 1}, x_t] + b_C)$\n细胞状态更新：$C_t = f_t \\odot C_{t - 1} + i_t \\odot \\tilde{C}_t$\n输出门：决定 $C_t$ 输出到 $h_t$ 信息，$o_t = \\sigma(W_o[h_{t - 1}, x_t] + b_o)$，$h_t = o_t \\odot \\tanh(C_t)$",
    "group_id": 108,
    "kps": [
      "深度学习",
      "神经网络"
    ],
    "years": [
      2023,
      2022
    ],
    "corps": [
      "小米",
      "中兴通讯",
      "携程",
      "腾讯"
    ]
  }
}